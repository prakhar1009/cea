# Compiledger CEA - Environment Configuration Template
# Copy this file to .env and fill in actual values

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DATABASE_URL="postgresql://compiledger:compiledger_dev_pass@localhost:5432/compiledger"
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=50

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_URL="redis://:compiledger_redis_pass@localhost:6379"
REDIS_CACHE_TTL=300
REDIS_MAX_RETRIES=3

# ==============================================================================
# NATS CONFIGURATION
# ==============================================================================
NATS_URL="nats://localhost:4222"
NATS_QUEUE_GROUP="cea-workers"
NATS_STREAM_PREFIX="compiledger"

# ==============================================================================
# ELASTICSEARCH CONFIGURATION (Phase 3)
# ==============================================================================
# ELASTICSEARCH_URL="http://localhost:9200"
# ELASTICSEARCH_INDEX_PREFIX="compiledger"

# ==============================================================================
# OPENAI CONFIGURATION (Phase 3)
# ==============================================================================
# OPENAI_API_KEY="sk-..."
# OPENAI_MODEL="gpt-4"
# OPENAI_EMBEDDING_MODEL="text-embedding-ada-002"

# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================
JWT_SECRET="CHANGE_ME_USE_OPENSSL_RAND_BASE64_32"
JWT_EXPIRATION="7d"
ENCRYPTION_KEY="CHANGE_ME_USE_OPENSSL_RAND_HEX_32"

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
NODE_ENV="development"
PORT=3003
LOG_LEVEL="info"

# Agent metadata
AGENT_NAME="control-enforcement"
AGENT_VERSION="1.0.0"

# ==============================================================================
# OBSERVABILITY
# ==============================================================================
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318"
METRICS_PORT=9090

# ==============================================================================
# PERFORMANCE TUNING
# ==============================================================================
# Evaluation settings
MAX_CONCURRENT_EVALUATIONS=50
EVALUATION_TIMEOUT_MS=5000
BATCH_SIZE=10

# Cache settings
RULE_CACHE_SIZE=1000
FACT_CACHE_TTL=300

# ==============================================================================
# FEATURE FLAGS (Phase-based)
# ==============================================================================
ENABLE_NLP=false           # Enable in Phase 3
ENABLE_ZKP=false           # Enable in Phase 3
ENABLE_WEBHOOKS=false      # Enable in Phase 2
ENABLE_AUTO_FIX=false      # Enable in Phase 2

# ==============================================================================
# DEVELOPMENT / DEBUG
# ==============================================================================
DEBUG=false
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=false

# ==============================================================================
# EXTERNAL SERVICE URLS (Other Agents)
# ==============================================================================
GITHUB_SENTINEL_URL="http://github-sentinel:3001"
AUTODOC_AGENT_URL="http://autodoc:3002"
CREDENTIAL_MONITOR_URL="http://credential-monitor:3004"
ZKP_ATTESTATION_URL="http://zkp-attestation:3005"

# ==============================================================================
# CLOUD PROVIDER (Production)
# ==============================================================================
# CLOUD_PROVIDER="aws"  # aws, gcp, azure
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="compiledger-artifacts"
